# Examples

Below are sample `krill.toml` configurations for different project types. These are mostly default configs that could be generated by `krill init`.

---

## C/C++ Project with CMake

The `[env]` section is typically generated automatically by `krill init` and sets up the environment for running build commands. You usually don't need to edit it unless you want to customize the shell or environment.

```toml
[project]
name = "my_c_project"
binary_type = "Executable"
languages = ["C", "Cpp"]
tools = ["CMake"]
version = "0.1.0"

[env]
path = "powershell.exe"
args = ["-NoProfile", "-Command", "& { . 'C:\\...\\Launch-VsDevShell.ps1' -Arch amd64 }"]

[targets]
[targets.debug]
    output_dir = "cmake-build-debug"
    commands = [
      "cmake -S . -B {{ .targets.debug.output_dir }} -DCMAKE_BUILD_TYPE=Debug",
      "cmake --build {{ .targets.debug.output_dir }}"
    ]

[targets.release]
    output_dir = "cmake-build-release"
    commands = [
      "cmake -S . -B {{ .targets.release.output_dir }} -DCMAKE_BUILD_TYPE=Release",
      "cmake --build {{ .targets.release.output_dir }}"
    ]
```

---

## Rust Project with Cargo

```toml
[project]
name = "my_rust_project"
binary_type = "Executable"
languages = ["Rust"]
tools = ["Cargo"]
version = "0.1.0"

[env]
path = "/bin/bash"
args = ["-c"]

[targets]
[targets.debug]
    output_dir = "target/debug"
    commands = ["cargo build"]

[targets.release]
    output_dir = "target/release"
    commands = ["cargo build --release"]
```

---

## Go Project

```toml
[project]
name = "my_go_project"
binary_type = "Executable"
languages = ["Go"]
tools = ["GoCmd"]
version = "0.1.0"

[env]
path = "/bin/bash"
args = ["-c"]

[targets]
[targets.debug]
    output_dir = "bin/debug"
    commands = ["go build -gcflags=\"-N -l\" -o {{ .targets.debug.output_dir }}/{{ .project.name }}{{ .exe_ext }}"]

[targets.release]
    output_dir = "bin/release"
    commands = ["go build -ldflags=\"-s -w\" -o {{ .targets.release.output_dir }}/{{ .project.name }}{{ .exe_ext }}"]
```

---

## Java Project with Gradle

```toml
[project]
name = "my_java_project"
binary_type = "Executable"
languages = ["Java"]
tools = ["Gradle"]
version = "0.1.0"

[env]
path = "/bin/zsh"
args = ["-c"]

[targets]
[targets.debug]
    output_dir = "build"
    commands = ["./gradlew build -PbuildType=debug"]

[targets.release]
    output_dir = "build"
    commands = ["./gradlew build -PbuildType=release"]
```

---

## Custom Tool Example

You can use krill with any tool by specifying `CustomTool` and writing your own commands. Here, we use a custom shell (`/usr/bin/fish`) for demonstration.

```toml
[project]
name = "custom_tool_project"
binary_type = "Executable"
languages = ["CustomLang"]
tools = ["CustomTool"]
version = "0.1.0"

[env]
path = "/usr/bin/fish"
args = ["-c"]

[targets]
[targets.build]
    commands = ["custom-build-command --flag"]

[targets.clean]
    commands = ["custom-clean-command"]
```

---

## Nested Projects

To add a subproject, place a `krill.toml` in the subdirectory and reference it in the main config:

```toml
[nested]
[nested.subdir]
[nested.subdir.mappings]
debug = "debug"
release = "release"
```

---

See [Configuration Reference](config.md) for more details on each section.
